# 스마트 팩토리 전력 예측 AI 챌린지

## 📘 배경

스마트 팩토리 전력 예측 AI 챌린지는 공장 현장에서 발생하는 설비별 전력 소비 시계열 데이터를 바탕으로, 더 똑똑하고 정확한 전력 예측 AI 모델을 개발하는 대회 준비.

공장 운영에서 에너지 관리와 설비 효율성은 생산성과 직결되는 핵심 요소로, 급변하는 산업 환경 속에서 전력 소비 패턴을 정확히 분석하고 예측하는 능력은 공정 최적화, 운영 비용 절감, ESG 대응을 위한 필수 역량으로 떠오르고 있음.

현실의 공장에서는 수많은 설비와 복잡한 작동 환경으로 인해, 시간대별 소비 데이터를 분석해 실질적인 인사이트를 도출하는 것이 어려워. 이번 프로젝트는 AI와 머신러닝 기술을 활용하여, 공장 전체 및 개별 설비의 에너지 사용 흐름을 분석하고 미래 소비량을 예측하는 알고리즘을 설계하고자 함.

## 📝 프로젝트 개요

이 프로젝트는 현실 세계의 산업 현장에서 수집된 시계열 데이터를 바탕으로, 공장 *전체*의 전력 소비량을 예측하는 AI 모델을 개발하는 것을 목표로 한다. 데이터는 각종 센서 기록과 운영 로그로 구성된 시계열 형태이며, 각 샘플은 시간 순으로 정렬된 수치 기반 데이터로 구성되어 공장 전체의 에너지 사용 흐름을 반영하였음.

### 🎯 주요 목표

- 시계열 데이터에 대한 분석 능력 강화
- 데이터 전처리 및 피처 엔지니어링 구음
- 다양한 예측 모델의 설계와 성능 비교
- 실제 산업 문제를 AI로 해결하는 경험 획득

### 🔧 활용 가능한 모델

- **통계 기반 접근**: ARIMA, Exponential Smoothing 등
- **머신러닝 기반 접근**: XGBoost, Random Forest 등
- **딥러닝 기반 접근**: LSTM, GRU, Transformer 등

## 📊 평가 방식

### 평가 항목 및 지표

| 예측 항목 | 입력 데이터 | 처리 방식 | 평가지표 | 비중 |
|----------|------------|----------|---------|------|
| 일별 전력 예측 (Daily) | hourly_pow (672개) | 서버가 "일 단위 합산" 자동 집계 | MAE, RMSE, SMAPE | 30% |
| 주별 전력 예측 (Weekly) | hourly_pow (672개) | 서버가 "주 단위 합산 (월요일 시작)" 자동 집계 | MAE, RMSE, SMAPE | 30% |
| 5월 전체 전기요금 예측 | may_bill (고정 값 반복) | 제출한 agg_pow × 180원/kWh | Bell-curve 점수 | 20% |
| 5월 전체 탄소배출량 예측 | may_carbon (고정 값 반복) | 제출한 agg_pow × 0.424kgCO₂/kWh | Bell-curve 점수 | 20% |

### 제출 형식

- **hourly_pow**: 시간 단위(총 672시간) 예측 결과
- **agg_pow**: 5월 전체(5/1~5/28)의 누적 전력 사용량
  - 모든 행에 동일한 agg_pow 값을 반복 입력해야 함
  - 반드시 672개의 행 전체에 같은 값을 채워야 함
  - may_bill = agg_pow × 180
  - may_carbon = agg_pow × 0.424

### 리더보드 점수 산정
- 전체 테스트셋 중 60%는 공개 리더보드에 사용
- 나머지 40%는 비공개 리더보드에 사용되며, 대회 종료 후 최종 순위에 반영

### 최종 수상자 선정 방식
- 정량 평가 (60%): 위 항목별 점수 합산 결과
- 정성 평가 (40%): 코드 재현성, 분석 보고서, 이상 탐지 기법 등

## 📘 데이터 해석을 위한 핵심 지표

### 주요 항목 안내
- 👉 **전기요금**: 1kWh당 180원
- 👉 **탄소계수**: 1kWh당 0.424 kgCO₂

### 핵심 데이터 항목

| 항목 | 분석 이유 |
|------|----------|
| activePower (kW) | 순간 소비 전력 확인 |
| accumActiveEnergy (kWh) | 누적 소비량 확인 |
| operation | 가동 여부에 따라 소비량 유무 결정 |
| localtime | 시간대별 사용 패턴 분석 |
| voltage / current | 급변 시 이상 탐지, 부하 변화 감지 |

### 분석 팁
- activePower만으로도 하루/주간 예측은 꽤 정확함
- accumActiveEnergy는 월간/분기별 장기 추세 예측에 적합
- operation은 예측 정확도를 높이는 핵심 변수
- 설비가 꺼져 있는데 소비가 있다면, 모델 이상 또는 센서 오류일 수 있음

### 고급 분석 방법
- activePower를 5초 → 1분 → 1시간 단위로 집계하여 더 부드럽고 안정적인 예측 가능
- Prophet, ARIMA 등의 시계열 모델로 미래 전력 수요 예측 자동화
- 설비별 피크 탐지 및 알림 기능 추가 (Slack, 텔레그램 연동 등)

### Team 역할 분담
1. Data Search & Preprocessing & Analysis : 김병찬
2. ML Model : 곽나현
3. DL Model : 김진민
4. PPT & Document & Overall support : 이경민


## 프로젝트 구조

```
Not_Null/
├── notebooks/
│   └── eda.ipynb          # 탐색적 데이터 분석 노트북
├── .github/
│   └── workflows/
│       └── python-ci.yml  # CI 파이프라인 설정
├── requirements.txt       # 필요한 패키지 목록
└── README.md              # 프로젝트 설명
```

----
# 전체 프로젝트 과정 요약
1. Data Understanding & initialize
- 가상환경 생성 및 필요한 Package 설치 (conda virtual_environment (python=3.10 version))
- 프로젝트 디렉토리 구조 설정 & Git 저장소 초기화

2. Data 탐색 및 이해
- Data Load & Basic 구조 파악
- 시간 데이터 처리 및 변환
- 전력 소비 패턴 시각화 및 분석
- 설비 별 전력 사용 특성 및 분석
- 시간, 요일, 주간 등 다양한 시간 단위 별 패턴 파악
- 이상치 식별 및 분석

3. Data Preprocessing
- 결측치 처리 (확인 결과 없음)
- 이상치 처리 (Filtering or 대체)
- 시간 관련 특성 추가 생성 (feature-engineering 고려 -> 시간, 요일, 주간, 월간 등)
- 전력 관련 파생 변수 생성 가능
- 설비 별 특성 분석을 통한 특징 엔지니어링
- 시계열 데이터를 위해 window 기반 특성 생성 (이동 평균, 표준편차 등)

4. Modeling
- 시계열 예측 모델 구현
  - 통계 기반 모델, 머신러닝 모델, 딥러닝 모델 사용 후 평가 지표를 비교하여 선택.
- 모델 평가 및 비교

5. 집계 및 결과 처리
- 시간 단위 예측 결과를 일별, 주별로 집계
- 5월 전체 전력 소비량 (agg_pow) 예측
- 전기요금 (may_bill) 및 탄소배출량 (may_carbon) 계산

6. 평가 및 검증
- Model 성능 평가 및 개선
- 시간별, 일별, 주별 예측 성능 검증
- 교차 검증 및 신뢰도 분석

7. 보고서 작성 및 제출
- 분석 과정 및 결과 문서화
- 모델 선택 및 특성 엔지니어링 내용 정리
- 예측 결과 시각화 및 해석
- Kaggle 제출 파일 생성